<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Fri Jan 30 10:04:43 GMT+03:30 1998
-->
<title>
Class HTTPClient.HttpURLConnection
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-HTTPClient.html">This Package</a>  <a href="HTTPClient.HttpOutputStream.html">Previous</a>  <a href="HTTPClient.NVPair.html">Next</a>  <a href="Index.html">Index</a>  </pre>
<hr>
<h1>
Class HTTPClient.HttpURLConnection
</h1>
<pre>
java.lang.Object
    |
    +----java.net.URLConnection
            |
            +----java.net.HttpURLConnection
                    |
                    +----HTTPClient.HttpURLConnection
</pre>
<hr>
<dl>
<dt>public class <b>HttpURLConnection</b>
<dt>extends HttpURLConnection<dt>implements GlobalConstants</dl>
This class is a wrapper around HTTPConnection providing the interface
defined by java.net.URLConnection and java.net.HttpURLConnection.
<P>This class can be used to replace the HttpClient in the JDK with this
HTTPClient by defining the property
<code>java.protocol.handler.pkgs=HTTPClient</code>.
<p>
<dl>
<dt><b>Since:</b>
 <dd>V0.3
<dt><b>Version:</b>
 <dd>0.3  30/01/1998
<dt><b>Author:</b>
 <dd>Ronald Tschal&auml;r
</dl>
<hr>
<a name="index"></a><h2>
<img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
<dt><img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#HttpURLConnection(java.net.URL)"><b>HttpURLConnection</b></a>(URL)
<dd>Construct a connection to the specified url.
</dl>
<h2>
<img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#connect()"><b>connect</b></a>()
<dd>Connects to the server (if connection not still kept alive) and
issues the request.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#disconnect()"><b>disconnect</b></a>()
<dd>Closes all the connections to this server.
<dt><img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getDefaultRequestProperty(java.lang.String)"><b>getDefaultRequestProperty</b></a>(String)
<dd>Gets the value for a given default request header.
<dt><img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getFollowRedirects()"><b>getFollowRedirects</b></a>()
<dd>Says whether redirection responses are handled automatically or not.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getHeaderField(int)"><b>getHeaderField</b></a>(int)
<dd>Gets header value of the n-th header.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getHeaderField(java.lang.String)"><b>getHeaderField</b></a>(String)
<dd>Get the value part of a header.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getHeaderFieldDate(java.lang.String, long)"><b>getHeaderFieldDate</b></a>(String, long)
<dd>Get the value part of a header, interprets it as a date and converts
it to a long representing the number of milliseconds since 1970.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getHeaderFieldInt(java.lang.String, int)"><b>getHeaderFieldInt</b></a>(String, int)
<dd>Get the value part of a header and converts it to an int.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getHeaderFieldKey(int)"><b>getHeaderFieldKey</b></a>(int)
<dd>Gets header name of the n-th header.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getInputStream()"><b>getInputStream</b></a>()
<dd>Gets an input stream from which the data in the response may be read.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getOutputStream()"><b>getOutputStream</b></a>()
<dd>Gets an output stream which can be used send an entity with the
request.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getRequestMethod()"><b>getRequestMethod</b></a>()
<dd>Return the request method used.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getRequestProperty(java.lang.String)"><b>getRequestProperty</b></a>(String)
<dd>Gets the value of a given request header.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getResponseCode()"><b>getResponseCode</b></a>()
<dd>Get the response code.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getResponseMessage()"><b>getResponseMessage</b></a>()
<dd>Get the response message describing the response code.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#getURL()"><b>getURL</b></a>()
<dd>Gets the url for this connection.
<dt><img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#setDefaultRequestProperty(java.lang.String, java.lang.String)"><b>setDefaultRequestProperty</b></a>(String, String)
<dd>Sets an arbitrary default request header.
<dt><img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#setFollowRedirects(boolean)"><b>setFollowRedirects</b></a>(boolean)
<dd>Enables or disables the automatic handling of redirection responses.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#setIfModifiedSince(long)"><b>setIfModifiedSince</b></a>(long)
<dd>Sets the <var>If-Modified-Since</var> header.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#setRequestMethod(java.lang.String)"><b>setRequestMethod</b></a>(String)
<dd>Sets the request method (e.g.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#setRequestProperty(java.lang.String, java.lang.String)"><b>setRequestProperty</b></a>(String, String)
<dd>Sets an arbitrary request header.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#toString()"><b>toString</b></a>()
<dd>produces a string.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#usingProxy()"><b>usingProxy</b></a>()
<dd>Shows if request are being made through an http proxy or directly.
</dl>
<a name="constructors"></a><h2>
<img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="HttpURLConnection"></a><a name="HttpURLConnection"></a><a name="HttpURLConnection(java.net.URL)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o ">
</a><b>HttpURLConnection</b>
<pre>
public HttpURLConnection(URL url) throws UnknownHostException, <a href="HTTPClient.ProtocolNotSuppException.html">ProtocolNotSuppException</a></pre>
<dl>
<dd>Construct a connection to the specified url. A cache of
HTTPConnections is used to maximize the reuse of these across
multiple HttpURLConnections.
<BR>The default method is "GET".
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>url - the url of the request
<dt><b>Throws:</b>
UnknownHostException<dd>if the host name translation failed<dt><b>Throws:</b>
<a href="HTTPClient.ProtocolNotSuppException.html">ProtocolNotSuppException</a><dd>if the protocol is not supported</dl>
</dd>
</dl>
<a name="methods"></a><h2>
<img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="setRequestMethod"></a><a name="setRequestMethod(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>setRequestMethod</b>
<pre>
public void setRequestMethod(String method) throws ProtocolException</pre>
<dl>
<dd>Sets the request method (e.g. "PUT" or "HEAD"). Can only be set
before connect() is called.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>method - the http method.
<dt><b>Throws:</b>
ProtocolException<dd>if already connected.<dt><b>Overrides:</b>
<dd>setRequestMethod in class HttpURLConnection</dl>
</dd>
</dl>
<a name="getRequestMethod"></a><a name="getRequestMethod()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getRequestMethod</b>
<pre>
public String getRequestMethod()</pre>
<dl>
<dd>Return the request method used.
<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the http method.<dt><b>Overrides:</b>
<dd>getRequestMethod in class HttpURLConnection</dl>
</dd>
</dl>
<a name="getResponseCode"></a><a name="getResponseCode()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getResponseCode</b>
<pre>
public int getResponseCode() throws IOException</pre>
<dl>
<dd>Get the response code. Calls connect() if not connected.
<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the http response code returned.<dt><b>Overrides:</b>
<dd>getResponseCode in class HttpURLConnection</dl>
</dd>
</dl>
<a name="getResponseMessage"></a><a name="getResponseMessage()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getResponseMessage</b>
<pre>
public String getResponseMessage() throws IOException</pre>
<dl>
<dd>Get the response message describing the response code. Calls connect()
if not connected.
<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the http response message returned with the response code.<dt><b>Overrides:</b>
<dd>getResponseMessage in class HttpURLConnection</dl>
</dd>
</dl>
<a name="getHeaderField"></a><a name="getHeaderField(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getHeaderField</b>
<pre>
public String getHeaderField(String name)</pre>
<dl>
<dd>Get the value part of a header. Calls connect() if not connected.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the of the header.
<dt><b>Returns:</b>
<dd>the value of the header, or null if no such header was returned.<dt><b>Overrides:</b>
<dd>getHeaderField in class URLConnection</dl>
</dd>
</dl>
<a name="getHeaderFieldInt"></a><a name="getHeaderFieldInt(java.lang.String, int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getHeaderFieldInt</b>
<pre>
public int getHeaderFieldInt(String name,
                             int def)</pre>
<dl>
<dd>Get the value part of a header and converts it to an int. If the
header does not exist or if its value could not be converted to an
int then the default is returned. Calls connect() if not connected.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the of the header.
<dd>def - the default value to return in case of an error.
<dt><b>Returns:</b>
<dd>the value of the header, or null if no such header was returned.<dt><b>Overrides:</b>
<dd>getHeaderFieldInt in class URLConnection</dl>
</dd>
</dl>
<a name="getHeaderFieldDate"></a><a name="getHeaderFieldDate(java.lang.String, long)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getHeaderFieldDate</b>
<pre>
public long getHeaderFieldDate(String name,
                               long def)</pre>
<dl>
<dd>Get the value part of a header, interprets it as a date and converts
it to a long representing the number of milliseconds since 1970. If
the header does not exist or if its value could not be converted to a
date then the default is returned. Calls connect() if not connected.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the of the header.
<dd>def - the default value to return in case of an error.
<dt><b>Returns:</b>
<dd>the value of the header, or def in case of an error.<dt><b>Overrides:</b>
<dd>getHeaderFieldDate in class URLConnection</dl>
</dd>
</dl>
<a name="getHeaderFieldKey"></a><a name="getHeaderFieldKey(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getHeaderFieldKey</b>
<pre>
public String getHeaderFieldKey(int n)</pre>
<dl>
<dd>Gets header name of the n-th header. Calls connect() if not connected.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>n - which header to return.
<dt><b>Returns:</b>
<dd>the header name, or null if not that many headers.<dt><b>Overrides:</b>
<dd>getHeaderFieldKey in class URLConnection</dl>
</dd>
</dl>
<a name="getHeaderField"></a><a name="getHeaderField(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getHeaderField</b>
<pre>
public String getHeaderField(int n)</pre>
<dl>
<dd>Gets header value of the n-th header. Calls connect() if not connected.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>n - which header to return.
<dt><b>Returns:</b>
<dd>the header value, or null if not that many headers.<dt><b>Overrides:</b>
<dd>getHeaderField in class URLConnection</dl>
</dd>
</dl>
<a name="getInputStream"></a><a name="getInputStream()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getInputStream</b>
<pre>
public InputStream getInputStream() throws IOException</pre>
<dl>
<dd>Gets an input stream from which the data in the response may be read.
Calls connect() if not connected.
<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>an InputStream<dt><b>Throws:</b>
ProtocolException<dd>if input not enabled.<dt><b>Overrides:</b>
<dd>getInputStream in class URLConnection<dt><b>See Also:</b>
<dd>java.net.URLConnection#setDoInput(boolean)</dl>
</dd>
</dl>
<a name="getOutputStream"></a><a name="getOutputStream()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getOutputStream</b>
<pre>
public OutputStream getOutputStream() throws IOException</pre>
<dl>
<dd>Gets an output stream which can be used send an entity with the
request. Can be called multiple times, in which case always the
same stream is returned.
<P>The default request method changes to "POST" when this method is
called. Cannot be called after connect().
<P>If no Content-type has been set it defaults to
<var>application/x-www-form-urlencoded</var>. Furthermore, if the
Content-type is <var>application/x-www-form-urlencoded</var> then all
output will be collected in a buffer before sending it to the server;
otherwise an HttpOutputStream is used.
<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>an OutputStream<dt><b>Throws:</b>
ProtocolException<dd>if already connect()'ed, if output is not
enabled or if the request method does not
support output.<dt><b>Overrides:</b>
<dd>getOutputStream in class URLConnection<dt><b>See Also:</b>
<dd>java.net.URLConnection#setDoOutput(boolean), <a href="HTTPClient.HttpOutputStream.html">HttpOutputStream</a></dl>
</dd>
</dl>
<a name="getURL"></a><a name="getURL()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getURL</b>
<pre>
public URL getURL()</pre>
<dl>
<dd>Gets the url for this connection. If we're connect()'d and the request
was redirected then the url returned is that of the final request.
<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>the final url, or null if any exception occured.<dt><b>Overrides:</b>
<dd>getURL in class URLConnection</dl>
</dd>
</dl>
<a name="setIfModifiedSince"></a><a name="setIfModifiedSince(long)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>setIfModifiedSince</b>
<pre>
public void setIfModifiedSince(long time)</pre>
<dl>
<dd>Sets the <var>If-Modified-Since</var> header.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>time - the number of milliseconds since 1970.
<dt><b>Overrides:</b>
<dd>setIfModifiedSince in class URLConnection</dl>
</dd>
</dl>
<a name="setRequestProperty"></a><a name="setRequestProperty(java.lang.String, java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>setRequestProperty</b>
<pre>
public void setRequestProperty(String name,
                               String value)</pre>
<dl>
<dd>Sets an arbitrary request header.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the header.
<dd>value - the value for the header.
<dt><b>Overrides:</b>
<dd>setRequestProperty in class URLConnection</dl>
</dd>
</dl>
<a name="getRequestProperty"></a><a name="getRequestProperty(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>getRequestProperty</b>
<pre>
public String getRequestProperty(String name)</pre>
<dl>
<dd>Gets the value of a given request header.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the header.
<dt><b>Returns:</b>
<dd>the value part of the header, or null if no such header.<dt><b>Overrides:</b>
<dd>getRequestProperty in class URLConnection</dl>
</dd>
</dl>
<a name="setDefaultRequestProperty"></a><a name="setDefaultRequestProperty(java.lang.String, java.lang.String)"><img src="images/green-ball.gif" width=12 height=12 alt=" o ">
</a><b>setDefaultRequestProperty</b>
<pre>
public static void setDefaultRequestProperty(String name,
                                             String value)</pre>
<dl>
<dd>Sets an arbitrary default request header. All headers set here are
automatically sent with each request.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the header.
<dd>value - the value for the header.
</dl>
</dd>
</dl>
<a name="getDefaultRequestProperty"></a><a name="getDefaultRequestProperty(java.lang.String)"><img src="images/green-ball.gif" width=12 height=12 alt=" o ">
</a><b>getDefaultRequestProperty</b>
<pre>
public static String getDefaultRequestProperty(String name)</pre>
<dl>
<dd>Gets the value for a given default request header.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>name - the name of the header.
<dt><b>Returns:</b>
<dd>the value part of the header, or null if no such header.</dl>
</dd>
</dl>
<a name="setFollowRedirects"></a><a name="setFollowRedirects(boolean)"><img src="images/green-ball.gif" width=12 height=12 alt=" o ">
</a><b>setFollowRedirects</b>
<pre>
public static void setFollowRedirects(boolean set)</pre>
<dl>
<dd>Enables or disables the automatic handling of redirection responses.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>set - enables automatic redirection handling if true.
</dl>
</dd>
</dl>
<a name="getFollowRedirects"></a><a name="getFollowRedirects()"><img src="images/green-ball.gif" width=12 height=12 alt=" o ">
</a><b>getFollowRedirects</b>
<pre>
public static boolean getFollowRedirects()</pre>
<dl>
<dd>Says whether redirection responses are handled automatically or not.
<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>true if automatic redirection handling is enabled.</dl>
</dd>
</dl>
<a name="connect"></a><a name="connect()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>connect</b>
<pre>
public void connect() throws IOException</pre>
<dl>
<dd>Connects to the server (if connection not still kept alive) and
issues the request.
<p>
<dd><dl>
<dt><b>Overrides:</b>
<dd>connect in class URLConnection</dl>
</dd>
</dl>
<a name="disconnect"></a><a name="disconnect()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>disconnect</b>
<pre>
public void disconnect()</pre>
<dl>
<dd>Closes all the connections to this server.
<p>
<dd><dl>
<dt><b>Overrides:</b>
<dd>disconnect in class HttpURLConnection</dl>
</dd>
</dl>
<a name="usingProxy"></a><a name="usingProxy()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>usingProxy</b>
<pre>
public boolean usingProxy()</pre>
<dl>
<dd>Shows if request are being made through an http proxy or directly.
<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>true if an http proxy is being used.<dt><b>Overrides:</b>
<dd>usingProxy in class HttpURLConnection</dl>
</dd>
</dl>
<a name="toString"></a><a name="toString()"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>toString</b>
<pre>
public String toString()</pre>
<dl>
<dd>produces a string.
<p>
<dd><dl>
<dt><b>Returns:</b>
<dd>a string containing the HttpURLConnection<dt><b>Overrides:</b>
<dd>toString in class URLConnection</dl>
</dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-HTTPClient.html">This Package</a>  <a href="HTTPClient.HttpOutputStream.html">Previous</a>  <a href="HTTPClient.NVPair.html">Next</a>  <a href="Index.html">Index</a>  </pre>
</body>
</html>
