<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Fri Jan 30 10:04:30 GMT+03:30 1998
-->
<title>
Class HTTPClient.CookieModule
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-HTTPClient.html">This Package</a>  <a href="HTTPClient.Cookie2.html">Previous</a>  <a href="HTTPClient.HTTPConnection.html">Next</a>  <a href="Index.html">Index</a>  </pre>
<hr>
<h1>
Class HTTPClient.CookieModule
</h1>
<pre>
java.lang.Object
    |
    +----HTTPClient.CookieModule
</pre>
<hr>
<dl>
<dt>public class <b>CookieModule</b>
<dt>extends Object<dt>implements <a href="HTTPClient.HTTPClientModule.html">HTTPClientModule</a>, GlobalConstants</dl>
This module handles Netscape cookies (also called Version 0 cookies)
and Version 1 cookies. Specifically is reads the <var>Set-Cookie</var>
and <var>Set-Cookie2</var> response headers and sets the <var>Cookie</var>
and <var>Cookie2</var> headers as neccessary.
<P>The accepting and sending of cookies is controlled by a
<var>CookiePolicyHandler</var>. This allows you to fine tune your privacy
preferences. A cookie is only added to the cookie jar if the handler
allows it, and a cookie from the cookie jar is only sent if the handler
allows it.
<P>The cookie jar is not yet persistent, i.e. all cookies are discarded
at exit. Persistence will be added in the future.
<p>
<dl>
<dt><b>Since:</b>
 <dd>V0.3
<dt><b>Version:</b>
 <dd>0.3  30/01/1998
<dt><b>Author:</b>
 <dd>Ronald Tschal&auml;r
<dt><b>See Also:</b>
<dd><a href="http://home.netscape.com/newsref/std/cookie_spec.html">Netscape's cookie spec</a>, <a href="ftp://ds.internic.net/internet-drafts/draft-ietf-http-state-man-mec-06.txt">HTTP State Management Mechanism spec</a></dl>
<hr>
<a name="index"></a><h2>
<img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
<dt><img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#discardAllCookies()"><b>discardAllCookies</b></a>()
<dd>Discard all cookies for all contexts.
<dt><img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#discardAllCookies(java.lang.Object)"><b>discardAllCookies</b></a>(Object)
<dd>Discard all cookies for the given context.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#requestHandler(HTTPClient.Request, HTTPClient.Response[])"><b>requestHandler</b></a>(Request, Response[])
<dd>Invoked by the HTTPClient.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#responsePhase1Handler(HTTPClient.Response, HTTPClient.RoRequest)"><b>responsePhase1Handler</b></a>(Response, RoRequest)
<dd>Invoked by the HTTPClient.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#responsePhase2Handler(HTTPClient.Response, HTTPClient.Request)"><b>responsePhase2Handler</b></a>(Response, Request)
<dd>Invoked by the HTTPClient.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#responsePhase3Handler(HTTPClient.Response, HTTPClient.RoRequest)"><b>responsePhase3Handler</b></a>(Response, RoRequest)
<dd>Invoked by the HTTPClient.
<dt><img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#setCookiePolicyHandler(HTTPClient.CookiePolicyHandler)"><b>setCookiePolicyHandler</b></a>(CookiePolicyHandler)
<dd>Sets a new cookie policy handler.
<dt><img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
<a href="#trailerHandler(HTTPClient.Response, HTTPClient.RoRequest)"><b>trailerHandler</b></a>(Response, RoRequest)
<dd>Invoked by the HTTPClient.
</dl>
<a name="methods"></a><h2>
<img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="requestHandler"></a><a name="requestHandler(HTTPClient.Request, HTTPClient.Response[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>requestHandler</b>
<pre>
public int requestHandler(<a href="HTTPClient.Request.html">Request</a> req,
                          <a href="HTTPClient.Response.html">Response</a>[] resp)</pre>
<dl>
<dd>Invoked by the HTTPClient.
<p>
</dl>
<a name="responsePhase1Handler"></a><a name="responsePhase1Handler(HTTPClient.Response, HTTPClient.RoRequest)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>responsePhase1Handler</b>
<pre>
public void responsePhase1Handler(<a href="HTTPClient.Response.html">Response</a> resp,
                                  <a href="HTTPClient.RoRequest.html">RoRequest</a> req) throws IOException</pre>
<dl>
<dd>Invoked by the HTTPClient.
<p>
</dl>
<a name="responsePhase2Handler"></a><a name="responsePhase2Handler(HTTPClient.Response, HTTPClient.Request)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>responsePhase2Handler</b>
<pre>
public int responsePhase2Handler(<a href="HTTPClient.Response.html">Response</a> resp,
                                 <a href="HTTPClient.Request.html">Request</a> req)</pre>
<dl>
<dd>Invoked by the HTTPClient.
<p>
</dl>
<a name="responsePhase3Handler"></a><a name="responsePhase3Handler(HTTPClient.Response, HTTPClient.RoRequest)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>responsePhase3Handler</b>
<pre>
public void responsePhase3Handler(<a href="HTTPClient.Response.html">Response</a> resp,
                                  <a href="HTTPClient.RoRequest.html">RoRequest</a> req)</pre>
<dl>
<dd>Invoked by the HTTPClient.
<p>
</dl>
<a name="trailerHandler"></a><a name="trailerHandler(HTTPClient.Response, HTTPClient.RoRequest)"><img src="images/red-ball.gif" width=12 height=12 alt=" o ">
</a><b>trailerHandler</b>
<pre>
public void trailerHandler(<a href="HTTPClient.Response.html">Response</a> resp,
                           <a href="HTTPClient.RoRequest.html">RoRequest</a> req) throws IOException</pre>
<dl>
<dd>Invoked by the HTTPClient.
<p>
</dl>
<a name="discardAllCookies"></a><a name="discardAllCookies()"><img src="images/green-ball.gif" width=12 height=12 alt=" o ">
</a><b>discardAllCookies</b>
<pre>
public static void discardAllCookies()</pre>
<dl>
<dd>Discard all cookies for all contexts. Cookies stored in persistent
storage are not affected.
<p>
</dl>
<a name="discardAllCookies"></a><a name="discardAllCookies(java.lang.Object)"><img src="images/green-ball.gif" width=12 height=12 alt=" o ">
</a><b>discardAllCookies</b>
<pre>
public static void discardAllCookies(Object context)</pre>
<dl>
<dd>Discard all cookies for the given context. Cookies stored in persistent
storage are not affected.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>context - the context Object
</dl>
</dd>
</dl>
<a name="setCookiePolicyHandler"></a><a name="setCookiePolicyHandler(HTTPClient.CookiePolicyHandler)"><img src="images/green-ball.gif" width=12 height=12 alt=" o ">
</a><b>setCookiePolicyHandler</b>
<pre>
public static <a href="HTTPClient.CookiePolicyHandler.html">CookiePolicyHandler</a> setCookiePolicyHandler(<a href="HTTPClient.CookiePolicyHandler.html">CookiePolicyHandler</a> handler)</pre>
<dl>
<dd>Sets a new cookie policy handler. This handler will be called for each
cookie that a server wishes to set and for each cookie that this
module wishes to send with a request. In either case the handler may
allow or reject the operation.
<P>At initialization time a default handler is installed. This
handler allows all cookies to be sent. For any cookie that a server
wishes to be set two lists are consulted. If the server matches any
host or domain in the reject list then the cookie is rejected; if
the server matches any host or domain in the accept list then the
cookie is accepted. If no host or domain match is found in either of
these two lists and user interaction is allowed then a dialog box is
poped up to ask the user whether to accept or reject the cookie; if
user interaction is not allowed the cookie is accepted.
<P>The accept and reject lists in the default handler are initialized
at startup from the two properties
<var>HTTPClient.cookies.hosts.accept</var> and
<var>HTTPClient.cookies.hosts.reject</var>. These properties must
contain a "|" separated list of host and domain names. All names
beginning with a "." are treated as domain names, all others as host
names. An empty string which will match all hosts. The two lists are
further expanded if the user chooses one of the "Accept All from Domain"
or "Reject All from Domain" buttons in the dialog box.
<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd>the - new policy handler
<dt><b>Returns:</b>
<dd>the previous policy handler</dl>
</dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-HTTPClient.html">This Package</a>  <a href="HTTPClient.Cookie2.html">Previous</a>  <a href="HTTPClient.HTTPConnection.html">Next</a>  <a href="Index.html">Index</a>  </pre>
</body>
</html>
